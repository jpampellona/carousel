(this["webpackJsonpxmas-carousel"]=this["webpackJsonpxmas-carousel"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),s=a.n(r),o=(a(12),a(3)),l=a(1);var i=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=a(2),u=a.n(m),d=a(6),p=function(){for(var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(d.a)(a),c=n.length;0!==c;)t=Math.floor(Math.random()*c),e=n[c-=1],n[c]=n[t],n[t]=e;return n},f=function(e){return 0===e?0:e<=10?1:e<=25?2.5:e<=50?4:e<=75?5.5:e<=100?7:8},b={50:"#f4733e",100:"#ac6ca0",200:"#99cc33",500:"#ffcc66",1e3:"#6699cc"};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var E=function(e){var t=e.setPlayer,a=e.playersMap,r=e.setPlayersMap,s=Object(n.useState)(""),i=Object(l.a)(s,2),m=i[0],u=i[1],d=Object(n.useRef)(null);return c.a.createElement("form",{action:"#",className:"add-player",onSubmit:function(e){if(e.preventDefault(),m.trim()){var n=m.toLowerCase();t(n),a[n]||r(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(o.a)({},n,{money:0,finished:!1,spinsLeft:3}))),u(""),d.current.blur()}else d.current.focus()}},c.a.createElement("div",{className:"field has-addons"},c.a.createElement("div",{className:"control"},c.a.createElement("input",{className:"input",ref:d,type:"text",placeholder:"Enter name",value:m,onChange:function(e){u(e.target.value)}})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{type:"submit",className:"button is-info"},"Submit"))))};var O=function(e){e.setPlayer;var t=e.name,a=e.money;return c.a.createElement("div",{className:"current-player"},c.a.createElement("div",{className:"tags has-addons are-medium"},c.a.createElement("span",{className:"tag is-success is-capitalized"},t),c.a.createElement("span",{className:"tag"},a)))};var y=function(e){var t=e.player,a=e.mode,r=e.setMode,s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],m=o[1],d=function(e,t){t.preventDefault(),r(e),m(!1)};return c.a.createElement("div",{className:u()("dropdown is-right",{"is-active":i})},c.a.createElement("div",{className:"dropdown-trigger"},c.a.createElement("button",{className:"button",disabled:!!t,"aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(e){e.preventDefault(),m(!i)}},c.a.createElement("span",{className:"is-capitalized"},a),c.a.createElement("span",{className:"icon is-small"},c.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),c.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},c.a.createElement("div",{className:"dropdown-content"},c.a.createElement("a",{href:"#",className:"dropdown-item",onClick:d.bind(null,"kids")},"Kids"),c.a.createElement("a",{href:"#",className:"dropdown-item",onClick:d.bind(null,"adults")},"Adults"))))};function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e){var t=e.playersMap,a=e.active,n=e.player,r=e.setPlayer,s=e.setPlayersMap;if(!a)return null;var o=function(e,a){a.preventDefault(),a.stopPropagation();var c=j({},t);delete c[e],s(j({},c)),e===n&&r("")},l=Object.keys(t).filter((function(e){return!t[e].spinsLeft})).sort((function(e,a){return t[a].money-t[e].money}));return c.a.createElement("div",{className:"players"},c.a.createElement("p",{className:"menu-label"},"Players"),c.a.createElement("ul",{className:"menu-list"},l.map((function(e){return c.a.createElement("li",{key:e,className:""},c.a.createElement("div",{className:"menu-item"},c.a.createElement("span",{className:"is-capitalized"},e),c.a.createElement("span",{className:"tag is-success is-medium"},t[e].money," ",c.a.createElement("span",{className:"delete",onClick:o.bind(null,e)}))))}))))};a(13);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={0:[1e3,1e3,500,500,500,200,200,200,200,200,200,200],500:[200,200,200,200,100,100,100,100,100,100,100,100],200:[500,500,200,200,200,200,200,200,100,100,100,100],700:[100,100,100,100,50,50,50,50,50,50,50,50],600:[200,200,200,100,100,100,100,100,100,100,100,100],400:[200,200,200,200,200,200,100,100,100,100,100,100],300:[200,200,200,200,200,200,200,200,100,100,100,100]},k=localStorage.getItem("__PLAYER__"),S=localStorage.getItem("__MODE__"),M=JSON.parse(localStorage.getItem("__PLAYERS_MAP__"));var _=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(1),m=Object(l.a)(s,2),d=m[0],v=m[1],g=Object(n.useState)(M||{}),j=Object(l.a)(g,2),h=j[0],_=j[1],D=Object(n.useState)(S||"kids"),C=Object(l.a)(D,2),z=C[0],x=C[1],L=Object(n.useState)(k||""),I=Object(l.a)(L,2),A=I[0],R=I[1],Y=h[A],T=p(P[Y?Y.money:0]),X=Object(n.useState)(T),B=Object(l.a)(X,2),J=B[0],G=B[1],W=Object(n.useState)(!1),F=Object(l.a)(W,2),H=F[0],K=F[1],U=Object(n.useState)(0),Z=Object(l.a)(U,2),$=Z[0],q=Z[1],Q=Object(n.useState)(0),V=Object(l.a)(Q,2),ee=V[0],te=V[1],ae=Object(n.useState)(0),ne=Object(l.a)(ae,2),ce=ne[0],re=ne[1],se=Object(n.useState)(""),oe=Object(l.a)(se,2),le=oe[0],ie=oe[1],me=Object(n.useState)(0),ue=Object(l.a)(me,2),de=ue[0],pe=ue[1],fe=Object(n.useState)(!1),be=Object(l.a)(fe,2),ve=be[0],Ee=be[1],Oe=Object(n.useState)(!1),ye=Object(l.a)(Oe,2),ge=ye[0],je=ye[1],Ne=Object(n.useState)(0),he=Object(l.a)(Ne,2),we=he[0],Pe=he[1],ke=Object(n.useState)(0),Se=Object(l.a)(ke,2),Me=Se[0],_e=Se[1],De=360/J.length,Ce=function(e){we||(q(e.pageX),pe(e.pageX),te(e.pageX),v(0))},ze=function(e){we||(r(e.pageX-$),re(ee),te(e.pageX))},xe=function(){if(!we){var e=Math.abs(ee-de),t=Math.round(e/100)+f(e);v(t),q(0),pe(0),te(0);var n="left"===le?a-e*t:a+e*t,c=n%De,s="left"===le?n-c:n+(De-c);0===e&&(s=a);var o=Math.round(s/De%J.length),l=0;l=o<=0?J[Math.abs(o)]:J[J.length-o],r(s),A&&ge&&e>=100&&Pe(l||0)}};return Object(n.useEffect)((function(){var e=ee>ce?"right":"left";ee&&le!==e&&(ie(e),pe(ee))}),[ee]),Object(n.useEffect)((function(){localStorage.setItem("__PLAYERS_MAP__",JSON.stringify(h))}),[h]),Object(n.useEffect)((function(){localStorage.setItem("__PLAYER__",A),A?(v(0),r(0)):Ee(!1)}),[A]),Object(n.useEffect)((function(){localStorage.setItem("__MODE__",z)}),[z]),i((function(){pe(ee)}),de?500:null),c.a.createElement(n.Fragment,null,c.a.createElement("nav",{className:u()("nav has-background-info",{spinning:!!we})},c.a.createElement("span",{className:"background has-text-white-bis has-text-weight-bold",onClick:function(){K(!H)}},H?"Back":"Carousel"),c.a.createElement("div",{className:"player-info"},!!Y&&c.a.createElement(O,{name:A,setPlayer:R,money:Y.money})),c.a.createElement("div",{className:u()("goodluck",{ready:!!ge})},c.a.createElement("p",{className:"has-text-grey-dark is-capitalized is-size-4"},"Goodluck ",A,"!"))),c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"screen active"},c.a.createElement("div",{className:"screen-content"},c.a.createElement("p",{className:"has-text-grey-dark is-size-5"},"Please enter you name to start"),c.a.createElement(E,{setPlayer:R,playersMap:h,setPlayersMap:_}))),!!Y&&c.a.createElement("div",{className:u()("screen",{active:!Y.spinsLeft})},c.a.createElement("div",{className:"screen-content"},c.a.createElement("p",{className:"has-text-grey-dark is-size-3"},"Congratulations!!!"),c.a.createElement("p",{className:"has-text-grey-dark is-size-6"},"on winning a total of"),c.a.createElement("p",{className:"has-text-dark-grey is-size-1"},Y.money),c.a.createElement("button",{className:"btn-logout button is-info is-medium",onClick:function(){R(""),G(p(P[0]))}},"Thank You!"))),c.a.createElement("div",{className:u()("screen",{active:!!Y&&!!Y.spinsLeft})},c.a.createElement("div",{className:"screen-content"},c.a.createElement("p",{className:"has-text-grey-dark is-size-6"},"Here's how your cards are arranged right now."),c.a.createElement("div",{className:"card-arrangements"},J.map((function(e,t){return c.a.createElement("div",{className:"card",key:"item-".concat(e,"-").concat(t),style:{backgroundColor:"".concat(b[e])}},String(e).split("").map((function(e,t){return c.a.createElement("span",{key:e+t},e)})))})))),c.a.createElement("div",{className:"screen-controls"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"button is-fullwidth",onClick:function(){G(p(J))}},"Re-arrange Cards")),c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"button is-fullwidth is-link",onClick:function(){je(!0),r(0),v(0)}},"I'm Ready to Spin!"))))),c.a.createElement("div",{className:u()("screen",{active:!!ge})},c.a.createElement("div",{className:"screen-content"},c.a.createElement("div",{className:u()("spin-instructions",{spinning:!!we})},"Spin the cards fast to claim your prize!"),c.a.createElement("div",{className:"carousel-swipe-container ".concat(ve?"swapping":""),onTouchStart:ve?void 0:function(e){1===e.touches.length&&Ce(e.touches[0])},onTouchMove:ve?void 0:function(e){1===e.touches.length&&ze(e.touches[0])},onTouchEnd:ve?void 0:function(e){0===e.touches.length&&xe()},onMouseDown:ve?void 0:function(e){Ce(e)},onMouseMove:ve?void 0:function(e){$&&ze(e)},onMouseUp:ve?void 0:function(){$&&xe()}},c.a.createElement("div",{className:"carousel-container"},c.a.createElement("div",{className:"carousel",style:{transform:"rotateY("+a+"deg)",transitionDuration:"".concat(d,"s")},onTransitionEnd:function(e){if("transform"===e.propertyName&&we){var t=Y.money+we;_(w({},h,Object(o.a)({},A,w({},Y,{money:t,spinsLeft:1e3===we?0:Y.spinsLeft-1})))),_e(we),G(p(P[t]))}}},J.map((function(e,t){var a=ve?{}:{transform:"rotateY(".concat(t*De,"deg) translateZ(160px)")};return c.a.createElement("div",{className:"item",key:"item-".concat(e,"-").concat(t),style:w({backgroundColor:"".concat(b[e])},a)},e)})))))),c.a.createElement("div",{className:u()("screen-controls",{spinning:!!we})},c.a.createElement("button",{className:"button is-fullwidth",onClick:function(){je(!1)}},"Go Back"))),c.a.createElement("div",{className:u()("screen settings",{active:H})},c.a.createElement("div",{className:"screen-content"},c.a.createElement("div",{className:"mode"},c.a.createElement("div",null,"Mode"),c.a.createElement("div",null,c.a.createElement(y,{mode:z,setMode:x,player:A}))),c.a.createElement(N,{active:H,playersMap:h,player:A,setPlayersMap:_,setPlayer:R})))),c.a.createElement("div",{className:u()("s-modal",{active:!!Me})},c.a.createElement("div",{className:"s-modal-content"},c.a.createElement("div",{className:"is-size-4"},"Congratulations!!!"),c.a.createElement("div",{className:"subtitle is-size-5"},"You won"),c.a.createElement("div",{className:"title is-size-1"},we),c.a.createElement("div",{className:"s-modal-controls"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"button is-fullwidth is-link",onClick:function(){Pe(0),_e(0),je(!1)}},"Awesome")))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.3377bbbd.chunk.js.map